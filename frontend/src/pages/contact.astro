---
import BaseLayout from '@/layouts/BaseLayout.astro'
import RichText from '@/components/RichText.astro'
import Container from '@/components/layout/Container.astro'
import { sanity } from '@/lib/sanity'
import { contactPageQuery } from '@/lib/sanityQueries'

const page = sanity ? await sanity.fetch<any>(contactPageQuery) : null
---

<BaseLayout title={page?.seo?.metaTitle || page?.title}>
  <Container size="wide" class="space-y-8">
    {
      page?.title || page?.seo?.metaDescription ? (
        <header class="space-y-3">
          {page?.title ? <h1 class="text-4xl tracking-tight">{page.title}</h1> : null}
          {
            page?.seo?.metaDescription ? (
              <p class="max-w-3xl text-muted">{page.seo.metaDescription}</p>
            ) : null
          }
        </header>
      ) : null
    }
    {page?.content ? <section class="max-w-3xl"><RichText value={page.content} /></section> : null}
  </Container>
</BaseLayout>
