---
import { cn } from '@/utils/cn'
import { slugify } from '../../utils/slugify'
type Props = {
  label: string
  name?: string
  id?: string
  placeholder?: string
  required?: boolean
  class?: string
  textareaClass?: string
}

const {
  label,
  name,
  id,
  placeholder,
  required,
  class: className,
  textareaClass,
} = Astro.props as Props

const fieldId = id ?? name ?? slugify(label)
const baseTextarea =
  'min-h-32 w-full rounded-xl border border-border bg-background px-4 py-3 text-foreground placeholder:text-muted focus:outline-none focus:ring-2 focus:ring-accent'
---

<label class={cn('grid gap-1', className)} for={fieldId}>
  <span class="text-sm font-medium">{label}</span>
  <textarea
    id={fieldId}
    name={name}
    placeholder={placeholder}
    required={required}
    class={cn(baseTextarea, textareaClass)}></textarea>
</label>
